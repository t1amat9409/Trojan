"use strict";var Trojan=Trojan||{};"function"==typeof define&&define.amd?define("yaka",YAKA):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=YAKA),(void 0===self.requestAnimationFrame||void 0===self.cancelAnimationFrame)&&!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!self.requestAnimationFrame;++n)self.requestAnimationFrame=self[t[n]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[t[n]+"CancelAnimationFrame"]||self[t[n]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(t){var n=Date.now(),o=Math.max(0,16-(n-e)),r=self.setTimeout(function(){t(n+o)},o);return e=n+o,r}),void 0===self.cancelAnimationFrame&&void 0!==self.clearTimeout&&(self.cancelAnimationFrame=function(e){self.clearTimeout(e)})}(),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:e>0?1:+e}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),o=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),o.push(t);return document._qsa=null,o}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),Trojan.motto="Give Muscles To Your Web",Trojan.version=1,Trojan.Request=function(e){var t={ajax:function(e,t,n){var o=new Promise(function(o,r){var i=new XMLHttpRequest,a=t;if(n&&("POST"===e||"PUT"===e)){a+="?";var s=0;for(var u in n)n.hasOwnProperty(u)&&(s++&&(a+="&"),a+=encodeURIComponent(u)+"="+encodeURIComponent(n[u]))}i.open(e,a),i.send(),i.onload=function(){this.status>=200&&this.status<300?o(this.response):r(this.statusText)},i.onerror=function(){r(this.statusText)}});return o}};return{get:function(n){return t.ajax("GET",e,n)},post:function(n){return t.ajax("POST",e,n)},put:function(n){return t.ajax("PUT",e,n)},"delete":function(n){return t.ajax("DELETE",e,n)}}},Trojan.style=function(e){var t=document.createElement("style");t.id=e,this.tag=t},Trojan.style.prototype={code:"",constructor:Trojan.style,declare:function(e){var t="\n";for(var n in e){var o=e[n];t+="/*Style for "+n+"*/\n\n"+n+" {\n";for(var r in o)t+="	"+r+" : "+o[r]+";\n";t+="}\n\n"}return this.code+=t,this},run:function(){return document.querySelector("#"+this.tag.id)?document.querySelector("#"+this.tag.id)=this.code:(this.tag.innerHTML+=this.code,document.querySelector("head").appendChild(this.tag)),this},load:function(e){var t=this,n={pass:function(e){t.code=e,t.run()},fail:function(e){alert(e)}};return Trojan.Request(e).get({}).then(n.pass)["catch"](n.fail),this}};
